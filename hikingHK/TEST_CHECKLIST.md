# HikingHK 功能測試檢查清單

## ✅ 編譯狀態
- [x] 專案編譯成功（已驗證）

## 📱 測試環境準備
1. 在 Xcode 中打開專案
2. 選擇一個 iOS 模擬器（建議使用 iPhone 17 或 iPhone 17 Pro）
3. 運行應用程序（⌘R）

---

## 1️⃣ 登入/註冊功能測試

### 測試步驟：
- [ ] 首次啟動應用，應該顯示登入畫面
- [ ] 點擊 "New hiker? Create account" 切換到註冊模式
- [ ] 輸入姓名、Email、密碼並創建帳號
- [ ] 確認成功登入並進入主畫面
- [ ] 登出（Profile → Sign out）
- [ ] 使用已註冊的帳號登入
- [ ] 確認登入狀態在應用重啟後保持

**預期結果：**
- 註冊和登入功能正常
- 登入狀態使用 SwiftData 持久化
- 應用重啟後自動恢復登入狀態

---

## 2️⃣ 新增行程功能測試

### 測試步驟：
1. **在 PlannerView 新增行程：**
   - [ ] 進入 Planner 標籤
   - [ ] 選擇一個 Trail（例如 "Dragon's Back"）
   - [ ] 選擇日期（預設為明天）
   - [ ] 輸入 Note（例如 "Meet at 8am, bring water"）
   - [ ] 點擊 "Save" 按鈕
   - [ ] 確認顯示 "Plan saved" 提示
   - [ ] 確認表單已重置（Trail、Date、Note 都清空）

2. **在 HomeView 快速新增：**
   - [ ] 進入 Home 標籤
   - [ ] 在 "Next plans" 區塊點擊 "Add" 按鈕
   - [ ] 確認新行程出現在列表中

**預期結果：**
- 行程成功保存
- Note 內容正確保存
- 表單正確重置
- 新行程出現在 Home 的 "Next plans" 列表

---

## 3️⃣ 標記完成/未完成功能測試

### 測試步驟：
1. **標記為完成：**
   - [ ] 在 Home 的 "Next plans" 中點擊一個行程
   - [ ] 在詳情頁面找到 "Status" 區塊
   - [ ] 開啟 "Mark as completed" Toggle
   - [ ] 確認出現 "Completed on" 日期選擇器
   - [ ] 選擇完成日期（或使用預設的今天）
   - [ ] 點擊 "Update plan" 按鈕
   - [ ] 確認詳情頁面關閉

2. **檢查 UI 更新：**
   - [ ] 返回 Home 頁面
   - [ ] 確認該行程顯示綠色 "✓ checkmark.seal.fill" 圖標和完成日期
   - [ ] 確認行程移動到列表底部（未完成的行程在上方）

3. **標記為未完成：**
   - [ ] 點擊已完成的行程
   - [ ] 關閉 "Mark as completed" Toggle
   - [ ] 點擊 "Update plan"
   - [ ] 確認行程恢復為 "Upcoming" 狀態（橙色時鐘圖標）
   - [ ] 確認行程移動回列表頂部

**預期結果：**
- Toggle 開關正常運作
- 完成日期正確保存
- UI 狀態正確更新（圖標、顏色、位置）
- 行程列表正確排序（未完成在上，已完成在下）

---

## 4️⃣ Profile 統計功能測試

### 測試步驟：
1. **檢查初始統計：**
   - [ ] 進入 Profile 標籤
   - [ ] 查看 "Journey" 區塊的統計：
     - [ ] "planned" 顯示未完成行程數量
     - [ ] "favorites" 顯示收藏的路線數量
     - [ ] "logged" 顯示已完成行程的總里程（km）

2. **驗證統計更新：**
   - [ ] 新增一個行程 → 確認 "planned" 數字增加
   - [ ] 標記一個行程為完成 → 確認 "planned" 減少，"logged" 增加對應里程
   - [ ] 取消完成狀態 → 確認統計恢復
   - [ ] 收藏一個 Trail → 確認 "favorites" 增加
   - [ ] 取消收藏 → 確認 "favorites" 減少

3. **驗證計算正確性：**
   - [ ] 完成一個 8.5 km 的行程 → "logged" 應該增加 8.5 km
   - [ ] 完成多個行程 → "logged" 應該是所有已完成行程的總和

**預期結果：**
- 統計數字即時更新
- 計算邏輯正確
- 所有統計都基於實際數據

---

## 5️⃣ SwiftData 持久化測試

### 測試步驟：
1. **基本持久化：**
   - [ ] 新增幾個行程（包含不同的 Note）
   - [ ] 標記一些為完成，一些為未完成
   - [ ] 收藏幾個 Trail
   - [ ] 完全關閉應用（在模擬器中雙擊 Home 鍵，向上滑動關閉）

2. **重啟驗證：**
   - [ ] 重新啟動應用
   - [ ] 確認自動登入
   - [ ] 檢查 Home 的 "Next plans"：
     - [ ] 所有行程都還在
     - [ ] Note 內容正確
     - [ ] 完成狀態正確
     - [ ] 排序正確（未完成在上）
   - [ ] 檢查收藏狀態：
     - [ ] 之前收藏的 Trail 仍然顯示為收藏
   - [ ] 檢查 Profile 統計：
     - [ ] 統計數字與關閉前一致

3. **編輯持久化：**
   - [ ] 編輯一個已保存的行程（修改日期、Note、完成狀態）
   - [ ] 關閉並重啟應用
   - [ ] 確認修改已保存

4. **刪除持久化：**
   - [ ] 刪除一個行程
   - [ ] 關閉並重啟應用
   - [ ] 確認行程已永久刪除

**預期結果：**
- 所有數據在應用重啟後保持
- 編輯和刪除操作正確持久化
- 沒有數據丟失

---

## 6️⃣ 其他功能測試

### Quick Actions（HomeView）：
- [ ] 點擊 "Trail Alerts" → 顯示警示列表
- [ ] 點擊 "Offline Maps" → 顯示離線地圖選項
- [ ] 點擊 "AR Identify" → 顯示 AR 識別界面

### 行程詳情編輯：
- [ ] 編輯行程日期 → 確認保存
- [ ] 編輯行程 Note → 確認保存
- [ ] 刪除行程 → 確認從列表中移除

### 收藏功能：
- [ ] 在 Trail 詳情頁或 Home 的 Featured Trail 中點擊愛心圖標
- [ ] 確認收藏狀態切換
- [ ] 重啟應用後確認收藏狀態保持

---

## 🐛 已知問題檢查

如果遇到以下問題，請記錄：

- [ ] 統計數字不更新
- [ ] 完成狀態切換後 UI 不刷新
- [ ] 數據在重啟後丟失
- [ ] 行程排序不正確
- [ ] Note 內容未保存

---

## 📝 測試結果記錄

**測試日期：** _______________

**測試設備/模擬器：** _______________

**測試人員：** _______________

**通過的功能：**
- [ ] 登入/註冊
- [ ] 新增行程
- [ ] 標記完成/未完成
- [ ] Profile 統計
- [ ] SwiftData 持久化
- [ ] 其他功能

**發現的問題：**
1. 
2. 
3. 

**備註：**
___________________________________________________

